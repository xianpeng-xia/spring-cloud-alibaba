server:
  port: 8081

spring:
  datasource:
    url: jdbc:mysql://localhost:3306/content_center
    hikari:
      username: root
      password: 123456
      driver-class-name: com.mysql.cj.jdbc.Driver

  cloud:
    # nacos
    nacos:
      discovery:
        server-addr: localhost:8848
        cluster-name: BJ
        metadata:
          version: v1
          targetVersion: v1
    # sentinel
    sentinel:
      transport:
        # 控制台地址
        dashboard: localhost:8090
        # 指定与控制台通信的ip
        client-ip: 127.0.0.1
        # 指定与控制台通信的端口，不设置从8719扫描找到一个未占用的端口
        port: 8719
        # 心跳
        heartbeat-interval-ms: 10000

  application:
    name: content-center
#ribbon
user-center:
  ribbon:
    NFLoadBalancerRuleClassName: com.example.content.configuration.NacosFinalRule

ribbon:
  eager-load:
    clients: user-center
    enabled: true

logging:
  level:
    com.example.content.feign.client.UserCenterFeignClient: debug
#feign
feign:
  sentinel:
    enabled: true
  client:
    config:
      # 全局
      default:
        loggerLevel: BASIC
      # 想要调用的微服务名称
      #user-center:
      #  loggerLevel: full
  httpclient:
    #使用http client做请求
    enabled: true
    # 最大连接数
    max-connections: 200
    # 单个路径最大连接数
    max-connections-per-route: 50
    connection-timeout: 10000

management:
  endpoints:
    web:
      exposure:
        include: '*'

resttemplate:
  sentinel:
    # SentinelRestTemplate开关
    enabled: false